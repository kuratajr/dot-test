"use strict";
'use babel';

const {
  clipboard
} = require('electron');
const {
  logger
} = require('inkdrop');
module.exports = {
  activate() {
    this.disposables = inkdrop.commands.add(document.body, {
      'dev-tools:copy-notebook-id': () => {
        const bookId = inkdrop.store.getState().bookList?.bookForContextMenu?._id;
        logger.debug('Copy notebook id:', bookId);
        clipboard.writeText(bookId);
      },
      'dev-tools:copy-tag-id': e => {
        const target = inkdrop.contextMenu.getEventTargetElement(e);
        const tagId = target?.dataset?.tagid;
        logger.debug('Copy tag id:', tagId);
        clipboard.writeText(tagId);
      },
      'dev-tools:copy-note-id': () => {
        const noteId = inkdrop.store.getState().noteListBar?.actionTargetNoteIds?.[0];
        logger.debug('Copy note id:', noteId);
        clipboard.writeText(noteId);
      }
    });
  },
  deactivate() {
    this.disposables.dispose();
  }
};
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJuYW1lcyI6WyJjbGlwYm9hcmQiLCJyZXF1aXJlIiwibG9nZ2VyIiwibW9kdWxlIiwiZXhwb3J0cyIsImFjdGl2YXRlIiwiZGlzcG9zYWJsZXMiLCJpbmtkcm9wIiwiY29tbWFuZHMiLCJhZGQiLCJkb2N1bWVudCIsImJvZHkiLCJib29rSWQiLCJzdG9yZSIsImdldFN0YXRlIiwiYm9va0xpc3QiLCJib29rRm9yQ29udGV4dE1lbnUiLCJfaWQiLCJkZWJ1ZyIsIndyaXRlVGV4dCIsImUiLCJ0YXJnZXQiLCJjb250ZXh0TWVudSIsImdldEV2ZW50VGFyZ2V0RWxlbWVudCIsInRhZ0lkIiwiZGF0YXNldCIsInRhZ2lkIiwibm90ZUlkIiwibm90ZUxpc3RCYXIiLCJhY3Rpb25UYXJnZXROb3RlSWRzIiwiZGVhY3RpdmF0ZSIsImRpc3Bvc2UiXSwic291cmNlcyI6WyJkZXYtdG9vbHMuanMiXSwic291cmNlc0NvbnRlbnQiOlsiJ3VzZSBiYWJlbCc7XG5cbmNvbnN0IHsgY2xpcGJvYXJkIH0gPSByZXF1aXJlKCdlbGVjdHJvbicpXG5jb25zdCB7IGxvZ2dlciB9ID0gcmVxdWlyZSgnaW5rZHJvcCcpXG5cbm1vZHVsZS5leHBvcnRzID0ge1xuICBhY3RpdmF0ZSgpIHtcbiAgICB0aGlzLmRpc3Bvc2FibGVzID0gaW5rZHJvcC5jb21tYW5kcy5hZGQoZG9jdW1lbnQuYm9keSwge1xuICAgICAgJ2Rldi10b29sczpjb3B5LW5vdGVib29rLWlkJzogKCkgPT4ge1xuICAgICAgICBjb25zdCBib29rSWQgPSBpbmtkcm9wLnN0b3JlLmdldFN0YXRlKCkuYm9va0xpc3Q/LmJvb2tGb3JDb250ZXh0TWVudT8uX2lkXG4gICAgICAgIGxvZ2dlci5kZWJ1ZygnQ29weSBub3RlYm9vayBpZDonLCBib29rSWQpXG4gICAgICAgIGNsaXBib2FyZC53cml0ZVRleHQoYm9va0lkKVxuICAgICAgfSxcbiAgICAgICdkZXYtdG9vbHM6Y29weS10YWctaWQnOiAoZSkgPT4ge1xuICAgICAgICBjb25zdCB0YXJnZXQgPSBpbmtkcm9wLmNvbnRleHRNZW51LmdldEV2ZW50VGFyZ2V0RWxlbWVudChlKVxuICAgICAgICBjb25zdCB0YWdJZCA9IHRhcmdldD8uZGF0YXNldD8udGFnaWRcbiAgICAgICAgbG9nZ2VyLmRlYnVnKCdDb3B5IHRhZyBpZDonLCB0YWdJZClcbiAgICAgICAgY2xpcGJvYXJkLndyaXRlVGV4dCh0YWdJZClcbiAgICAgIH0sXG4gICAgICAnZGV2LXRvb2xzOmNvcHktbm90ZS1pZCc6ICgpID0+IHtcbiAgICAgICAgY29uc3Qgbm90ZUlkID0gaW5rZHJvcC5zdG9yZS5nZXRTdGF0ZSgpLm5vdGVMaXN0QmFyPy5hY3Rpb25UYXJnZXROb3RlSWRzPy5bMF1cbiAgICAgICAgbG9nZ2VyLmRlYnVnKCdDb3B5IG5vdGUgaWQ6Jywgbm90ZUlkKVxuICAgICAgICBjbGlwYm9hcmQud3JpdGVUZXh0KG5vdGVJZClcbiAgICAgIH1cbiAgICB9KVxuICB9LFxuICBkZWFjdGl2YXRlKCkge1xuICAgIHRoaXMuZGlzcG9zYWJsZXMuZGlzcG9zZSgpXG4gIH1cbn07XG4iXSwibWFwcGluZ3MiOiI7QUFBQSxXQUFXOztBQUVYLE1BQU07RUFBRUE7QUFBVSxDQUFDLEdBQUdDLE9BQU8sQ0FBQyxVQUFVLENBQUM7QUFDekMsTUFBTTtFQUFFQztBQUFPLENBQUMsR0FBR0QsT0FBTyxDQUFDLFNBQVMsQ0FBQztBQUVyQ0UsTUFBTSxDQUFDQyxPQUFPLEdBQUc7RUFDZkMsUUFBUSxHQUFHO0lBQ1QsSUFBSSxDQUFDQyxXQUFXLEdBQUdDLE9BQU8sQ0FBQ0MsUUFBUSxDQUFDQyxHQUFHLENBQUNDLFFBQVEsQ0FBQ0MsSUFBSSxFQUFFO01BQ3JELDRCQUE0QixFQUFFLE1BQU07UUFDbEMsTUFBTUMsTUFBTSxHQUFHTCxPQUFPLENBQUNNLEtBQUssQ0FBQ0MsUUFBUSxFQUFFLENBQUNDLFFBQVEsRUFBRUMsa0JBQWtCLEVBQUVDLEdBQUc7UUFDekVmLE1BQU0sQ0FBQ2dCLEtBQUssQ0FBQyxtQkFBbUIsRUFBRU4sTUFBTSxDQUFDO1FBQ3pDWixTQUFTLENBQUNtQixTQUFTLENBQUNQLE1BQU0sQ0FBQztNQUM3QixDQUFDO01BQ0QsdUJBQXVCLEVBQUdRLENBQUMsSUFBSztRQUM5QixNQUFNQyxNQUFNLEdBQUdkLE9BQU8sQ0FBQ2UsV0FBVyxDQUFDQyxxQkFBcUIsQ0FBQ0gsQ0FBQyxDQUFDO1FBQzNELE1BQU1JLEtBQUssR0FBR0gsTUFBTSxFQUFFSSxPQUFPLEVBQUVDLEtBQUs7UUFDcEN4QixNQUFNLENBQUNnQixLQUFLLENBQUMsY0FBYyxFQUFFTSxLQUFLLENBQUM7UUFDbkN4QixTQUFTLENBQUNtQixTQUFTLENBQUNLLEtBQUssQ0FBQztNQUM1QixDQUFDO01BQ0Qsd0JBQXdCLEVBQUUsTUFBTTtRQUM5QixNQUFNRyxNQUFNLEdBQUdwQixPQUFPLENBQUNNLEtBQUssQ0FBQ0MsUUFBUSxFQUFFLENBQUNjLFdBQVcsRUFBRUMsbUJBQW1CLEdBQUcsQ0FBQyxDQUFDO1FBQzdFM0IsTUFBTSxDQUFDZ0IsS0FBSyxDQUFDLGVBQWUsRUFBRVMsTUFBTSxDQUFDO1FBQ3JDM0IsU0FBUyxDQUFDbUIsU0FBUyxDQUFDUSxNQUFNLENBQUM7TUFDN0I7SUFDRixDQUFDLENBQUM7RUFDSixDQUFDO0VBQ0RHLFVBQVUsR0FBRztJQUNYLElBQUksQ0FBQ3hCLFdBQVcsQ0FBQ3lCLE9BQU8sRUFBRTtFQUM1QjtBQUNGLENBQUMifQ==